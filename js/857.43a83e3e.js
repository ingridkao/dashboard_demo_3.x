"use strict";(self["webpackChunkcitydashboard_3_X"]=self["webpackChunkcitydashboard_3_X"]||[]).push([[857,474],{9857:function(t,e,r){r.r(e),r.d(e,{default:function(){return p}});var n=r(6252),o=r(3577),a=r(2262),l=r(2474);const i={class:"houerFilterContainer"},s=(0,n._)("div",null,"目前推估人數",-1),u={props:{request:{type:Object,default:()=>{}}},components:{LineArea:l["default"]},computed:{config(){return this.request.config?this.request.config:null},count(){const t=(new Date).getHours(),e=this.request.data?this.request.data[0]["data"]:null;return e?e[t]:"--"}},data(){return{targetHour:0}},methods:{formatTooltip(t){return`${t}Hr`}}};var c=Object.assign(u,{__name:"FetDisplay",setup(t){return(e,r)=>{const u=(0,n.up)("el-col"),c=(0,n.up)("el-row"),d=(0,n.up)("el-slider");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(c,{justify:"start",class:"keyratio"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{span:24},{default:(0,n.w5)((()=>[s,(0,n._)("div",null,(0,o.zw)(e.count),1)])),_:1})])),_:1}),(0,n.Wm)(l["default"],{request:t.request},null,8,["request"]),(0,n.Wm)(d,{modelValue:e.targetHour,"onUpdate:modelValue":r[0]||(r[0]=t=>(0,a.dq)(targetHour)?targetHour.value=t:null),max:23,"format-tooltip":e.formatTooltip},null,8,["modelValue","format-tooltip"])])}}});const d=c;var p=d},2474:function(t,e,r){r.r(e),r.d(e,{default:function(){return c}});var n=r(6252),o=r(3577);function a(t,e,r,a,l,i){const s=(0,n.up)("el-col"),u=(0,n.up)("el-row"),c=(0,n.up)("highcharts");return(0,n.wg)(),(0,n.iD)(n.HY,null,[i.keyratioInfo.length>0?((0,n.wg)(),(0,n.j4)(u,{key:0,justify:"start",class:"keyratio"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.sum,((t,e)=>((0,n.wg)(),(0,n.j4)(s,{key:e,span:l.sum.length/24},{default:(0,n.w5)((()=>[(0,n._)("div",null,(0,o.zw)(t.label),1),(0,n._)("div",null,(0,o.zw)(t.value),1)])),_:2},1032,["span"])))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.keyratioInfo,((t,e)=>((0,n.wg)(),(0,n.j4)(s,{key:e,span:i.keyratioInfo.length/24},{default:(0,n.w5)((()=>[(0,n._)("div",null,[t.symbol?((0,n.wg)(),(0,n.iD)("span",{key:0,class:(0,o.C_)(["mapIcon big",i.translateSymbol(t.symbol)]),style:(0,o.j5)(i.translateStyle(t,e))},null,6)):(0,n.kq)("",!0),(0,n.Uk)(" "+(0,o.zw)(t.label),1)]),(0,n._)("div",null,(0,o.zw)(t.value),1)])),_:2},1032,["span"])))),128))])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(c,{class:"chartContainer area",style:(0,o.j5)(i.chartContainerHeight),options:l.chartOptions,updateArgs:[!0,!1]},null,8,["style","options"])],64)}var l=r(9654),i={props:{request:{type:Object,deep:!0,default:()=>{}},belong:{type:String},belong:{type:String}},watch:{request:{deep:!0,immediate:!0,handler:function(t,e){const{config:r,data:n,categories:o,keyratio:a}=t;r&&r.name&&r.name;if(this.chartOptions.series=n,!r.sumHide){const t=a&&a.name?a.name:"";this.sum=n.map((e=>({label:`${e.name}${t}`,value:e.data.reduce(((t,e)=>t+e),0),symbol:e.symbol?e.symbol:null,color:e.color?e.color:null})))}o&&(this.chartOptions.xAxis.categories=o),r&&r.plotOptions&&(this.chartOptions.plotOptions.area={...this.chartOptions.plotOptions.area,...r.plotOptions}),r&&r.xAxis&&(this.chartOptions.xAxis={...this.chartOptions.xAxis,...r.xAxis})}}},computed:{keyratioInfo(){return this.request.keyratio&&this.request.keyratio.info?this.request.keyratio.info:[]},chartContainerHeight(){const t=this.sum.length,e=this.keyratioInfo.length;return t>0||e>0?"card_mapview"===this.belong?{height:"15rem"}:{height:`calc(100% - ${1.5*(t+e)}rem)`}:{height:"100%"}}},methods:{translateSymbol(t){return t||"circle"},translateStyle(t){return t?{backgroundColor:t.color?t.color:"#ddd",borderColor:t.color?t.color:"#ddd"}:{}}},data(){return{sum:[],chartOptions:{...l.Ei,chart:{type:"area"},xAxis:{...l.PU},yAxis:{...l.il},legend:{align:"left",verticalAlign:"top"},tooltip:{shared:!0},plotOptions:{area:{fillOpacity:.35,marker:{radius:1},lineWidth:1,threshold:null}},series:[]}}}},s=r(3744);const u=(0,s.Z)(i,[["render",a]]);var c=u},9654:function(t,e,r){r.d(e,{Ei:function(){return n},IL:function(){return o},PU:function(){return a},il:function(){return l}});const n={title:{text:null,style:{display:"none"}},credits:{enabled:!1}},o={marginTop:-10,spacingTop:-10},a={lineColor:"rgba(200,200,200,0.2)",gridLineWidth:0,minPadding:0,maxPadding:0},l={title:{text:null},lineWidth:1,lineColor:"rgba(200,200,200,0.2)",gridLineColor:"rgba(100,100,100,0.1)",minorGridLineWidth:0,min:0,labels:{formatter:function(){return this.value}}}}}]);
//# sourceMappingURL=857.43a83e3e.js.map